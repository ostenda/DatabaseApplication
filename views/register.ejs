<%- include('include/_header') %>
<!-- /include header -->


<!-- Main Site -->
    <body>
        <h1>Registration</h1>
        <form id = "reg-form">
            <input type = "text" autocompeite = "off" id = "username" placeholder = "Username"/>
            <input type = "password" autocomplete = "off" id = "password" placeholder = "Password"/>
            <input type = "submit" value = "Submit"/>
        </form>

        <script>
            const form = document.getElementById('reg-form')
            form.addEventListener('submit', registerUser)

            async function registerUser(event) {
                    event.preventDefault()
                    const username = document.getElementById('username').value
                    const password = document.getElementById('password').value

                    const result = await fetch('/api/register', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            username,
                            password
                        })
                    }).then((res) => res.json())

                    console.log(result)
            }
        </script>
    </body>
<!-- /Main Site -->


<!-- include footer -->
<%- include('include/_footer') %>
<!-- /include footer -->